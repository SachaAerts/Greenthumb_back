spring.application.name=back

# --------------- CONFIG COMMUN ------------------
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.show-sql=true

spring.datasource.driver-class-name=org.postgresql.Driver

spring.liquibase.enabled=true
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.yaml

logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql=TRACE

# Utilisateur de base (Spring Security) {todo ï¿½ supprimer quand le systeme d'authentification)
spring.security.user.name=admin
spring.security.user.password=admin123

# ------------------------- Variable ----------------------
greenthumb.services.user=${USER_SERVICE_URL_http:localhost:8081}

# ------------------------- Token -------------------------
security.jwt.secret=ChangeMoiParUneCleSecrï¿½teTrï¿½sLongueEtComplexe1234567890
security.jwt.expiration.access=900000
# Remember Me
# Si Remember Me = false : 1 jour (86400000 ms)
# Si Remember Me = true  : 7 jours (604800000 ms)
security.jwt.expiration.refresh=604800000
security.jwt.expiration.refresh.short=86400000

# ---------- REDIS ----------
spring.data.redis.host=${REDIS_HOST}
spring.data.redis.port=${REDIS_PORT}
# L'user c'est celui par dï¿½faut "default"
spring.data.redis.username=${REDIS_USERNAME}
spring.data.redis.password=${REDIS_PASSWORD}
spring.data.redis.ssl.enabled=${REDIS_SSL:false}

# ---------- MAIL - PRIMARY SENDER ----------
spring.mail.primary.host=smtp.gmail.com
spring.mail.primary.port=587
spring.mail.primary.username=${MAIL_USERNAME}
spring.mail.primary.password=${MAIL_PASSWORD}
spring.mail.primary.properties.mail.smtp.auth=true
spring.mail.primary.properties.mail.smtp.starttls.enable=true
spring.mail.primary.default-encoding=UTF-8

# ---------- MAIL - NO-REPLY SENDER ----------
spring.mail.noreply.host=smtp.gmail.com
spring.mail.noreply.port=587
spring.mail.noreply.username=${NOREPLY_MAIL_USERNAME}
spring.mail.noreply.password=${NOREPLY_MAIL_PASSWORD}
spring.mail.noreply.properties.mail.smtp.auth=true
spring.mail.noreply.properties.mail.smtp.starttls.enable=true
spring.mail.noreply.default-encoding=UTF-8

# ---------- API PLANT ----------
trefle.api.base-url=https://trefle.io/api/v1
trefle.api.rate-limit.max-requests=120
trefle.api.rate-limit.period-in-seconds=60
trefle.api.key=${TREFLE_API_KEY}

# ---------- FRONTEND ---------- (à configurer autrement plus tard)
greenthumb.frontend.url=${FRONTEND_URL:http://localhost:5173}

# ---------- FILE STORAGE ----------
greenthumb.upload.dir=src/main/resources/static/users

# ---------- FILE UPLOAD LIMITS ----------
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ---------- GEMINI AI MODERATION ----------
gemini.api.base-url=https://generativelanguage.googleapis.com/v1beta
gemini.api.model=gemini-2.5-flash
gemini.api.key=${GOOGLE_API_KEY}
gemini.api.temperature=0.3
gemini.api.timeout-seconds=10


